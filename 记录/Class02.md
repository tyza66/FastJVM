# JVM的体系结构

### JVM的位置

1. JVM是运行在操作系统上的 （常见的操作系统有Windows，Linux，Mac）
2. JVM说白了就是一个软件，上面跑的都是java程序
3. JVM会和操作系统交互
4. JVM是使用C写的
5. JRE（java运行时环境）里面包含了JVM
6. 所以说如果不需要开发只需要跑程序的业务场景不用安装jdk，只需要jre
7. 操作系统也是软件，操作系统底下是硬件体系

### JVM的体系结构

1. 编写java源文件，编译成class文件，类装载器Class Loader，加载进JVM中，JVM也会向类加载器返回一些东西
2. 类加载器装载完里面有一个运行时数据区（Runtime Data Area），进去运行的属于运行时异常，是不能被编译器捕获到的异常类型
3. JVM中还有方法区（Method Area），Java栈（Stack），本地方法栈（Native Method Stack），堆（Heap），程序计数器
4. 因为在JVM外面还有操作系统 所以外面会有本地方法接口
5. 本地方法接口要和本地方法库相连
6. 本地还有执行引擎
7. 堆里面可能有垃圾，需要垃圾回收，但是堆里面不可能有垃圾
8. 栈，本地方法栈，程序计数器这几个地方不会有垃圾回收
9. 所谓的JVM调优就是在堆中调优
10. 方法区也是一个特殊的堆
11. JVM调优99%都是在调整堆（方法区和堆区）

![JVM体系结构](..\图片\JVM体系结构.png)